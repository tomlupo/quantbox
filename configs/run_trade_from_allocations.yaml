run:
  mode: paper
  asof: "2026-01-31"
  pipeline: "trade.allocations_to_orders.v1"

artifacts:
  root: "./artifacts"

plugins:
  pipeline:
    name: "trade.allocations_to_orders.v1"
    params:
      # Set this after you run fund_selection and have a real run_id
      allocations_path: null
      allocations_ref: "latest:fund_selection.simple.v1"
      allocations_artifact: "allocations.parquet"
      instrument_map: \"./configs/instruments.yaml\"
      prices:
        lookback_days: 5
      round_lot: 1
      min_abs_qty: 0.0
      approval_required: true
      approval_path: null

  data:
    name: "local_file_data"
    params_init:
      prices_path: "./data/curated/prices.parquet"
      fx_path: "./data/curated/fx.parquet"

  broker:
    name: "ibkr.paper.stub.v1"
    params_init:
      starting_cash_usd: 100000

  publishers: []
  risk: []
